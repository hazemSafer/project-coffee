<!-- Header Section -->

<app-header [totalPrice]="totalPrice"></app-header>

<!-- Main Content Section -->
<div class="main-content d-flex">
    <!-- Basket Component -->
    <app-basket 
    [orderItems]="orderItems" 
    (orderValidated)="handleOrderValidation()">
    </app-basket>
    <!-- Category Cards Section -->
    <div class="menu-section">
        <!-- Title and Description -->
        <div class="menu-header">
            <h2 class="section-title">üçΩÔ∏è Un Menu Riche et Vari√©</h2>
            <p class="section-description">Profitez d'une s√©lection de plats savoureux et de boissons raffin√©es, con√ßus pour satisfaire toutes vos envies.</p>
        </div>

        <!-- Category Cards -->
        <div class="cards-grid">
            <div class="card" *ngFor="let category of categories" (click)="onCategoryClick(category.category)">
                <div class="card-inner">
                    <!-- Background Image -->
                    <div class="background-image" [style.backgroundImage]="'url(' + getCategoryImage(category.category) + ')'"></div>

                    <!-- Main Image -->
                    <img class="main-image" [src]="getCategoryImage(category.category)" alt="{{ category.category }}">

                    <!-- Card Content -->
                    <div class="card-content">
                        <h3>{{ category.category }}</h3>
                        <p>{{ category.products.length }} produits disponibles</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
        
    

    <!-- Product List Section (Shown After Category Click) -->
    <div *ngIf="products.length > 0" class="products-section">
        <h2 class="section-title">üõí Produits Disponibles</h2>
        <div class="products-grid">
            <div class="product-card" *ngFor="let product of products">
                <div class="product-inner">
                    <!-- Product Image -->
                    <img [src]="product.image || 'assets/images/placeholder.jpg'" alt="{{ product.name }}" class="product-image">
                    
                    <!-- Product Info -->
                    <div class="product-info">
                        <h4>{{ product.name }}</h4>
                        <p>Prix: {{ product.price | currency:'EUR' }}</p>
                        <button class="add-btn" (click)="addToOrder(product)">üõí Ajouter au panier</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

  